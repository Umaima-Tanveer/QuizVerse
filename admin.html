<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>QuizVerse Admin Panel</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(to right, #f5f5dc, #fffaf0); /* warm beige gradient */
      color: #4a3f35;
      text-align: center;
      padding: 50px;
    }

    .login, .admin-panel {
      background: rgba(255, 255, 255, 0.95);
      padding: 30px;
      border-radius: 15px;
      max-width: 500px;
      margin: auto;
      box-shadow: 0 10px 25px rgba(0,0,0,0.1);
    }

    input, select, textarea {
      padding: 10px;
      margin: 10px 0;
      border: 1px solid #ccc;
      border-radius: 5px;
      width: 100%;
      font-size: 1rem;
      background-color: #fffaf0;
      color: #4a3f35;
    }

    button {
      padding: 10px 20px;
      background: #a1887f;
      color: white;
      border: none;
      border-radius: 5px;
      font-weight: bold;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    button:hover {
      background: #8d6e63;
    }

    #login-error, #save-status {
      color: red;
      margin-top: 10px;
    }
  </style>
  </head>
  <body>

    <!-- Login Section -->
    <div class="login" id="login-section">
      <h2>Admin Login</h2>
      <input type="text" id="username" placeholder="Username" /><br>
      <input type="password" id="password" placeholder="Password" /><br>
      <button onclick="login()">Login</button>
      <p id="login-error" style="color: red;"></p>
    </div>

    <!-- Admin Panel -->
    <div class="admin-panel" id="admin-section" style="display:none;">
      <h1>ONLY FOR ADMIN</h1>
      <h2>Add New Quiz Question</h2>
      <input type="text" id="question" placeholder="Enter question" /><br>
      <input type="text" id="opt1" placeholder="Option 1" /><br>
      <input type="text" id="opt2" placeholder="Option 2" /><br>
      <input type="text" id="opt3" placeholder="Option 3" /><br>
      <input type="text" id="opt4" placeholder="Option 4" /><br>
      <input type="number" id="correct" placeholder="Correct Option Index (0-3)" min="0" max="3" /><br>
      
      <select id="category">
        <option value="">-- Select Category --</option>
        <option value="General">General</option>
        <option value="Math">Math</option>
        <option value="Science">Science</option>
        <option value="History">History</option>
      </select><br>

      <select id="difficulty">
        <option value="">-- Select Difficulty --</option>
        <option value="easy">Easy</option>
        <option value="medium">Medium</option>
        <option value="hard">Hard</option>
      </select><br>

      <button onclick="saveQuestion()">Add Question</button>
      <p id="save-status"></p>
    </div>

  <script>
    function login() {
      const user = document.getElementById("username").value;
      const pass = document.getElementById("password").value;

      if (user === "admin" && pass === "admin123") {
        document.getElementById("login-section").style.display = "none";
        document.getElementById("admin-section").style.display = "block";
      } else {
        document.getElementById("login-error").innerText = "Invalid credentials!";
      }
    }

    function saveQuestion() {
      const question = document.getElementById("question").value.trim();
      const opt1 = document.getElementById("opt1").value.trim();
      const opt2 = document.getElementById("opt2").value.trim();
      const opt3 = document.getElementById("opt3").value.trim();
      const opt4 = document.getElementById("opt4").value.trim();
      const correct = parseInt(document.getElementById("correct").value);
      const category = document.getElementById("category").value;
      const difficulty = document.getElementById("difficulty").value;

      if (!question || !opt1 || !opt2 || !opt3 || !opt4 || isNaN(correct) || correct < 0 || correct > 3 || !category || !difficulty) {
        document.getElementById("save-status").innerText = "Please fill all fields correctly.";
        return;
      }

      const newQuestion = {
        question: question,
        answers: [opt1, opt2, opt3, opt4],
        correct: correct,
        category: category,
        difficulty: difficulty
      };

      const existing = JSON.parse(localStorage.getItem("adminQuestions")) || [];
      existing.push(newQuestion);
      localStorage.setItem("adminQuestions", JSON.stringify(existing));

      // ✅ Redirect to homepage
      window.location.href = "index.html";

      document.getElementById("save-status").innerText = "✅ Question saved!";
      document.getElementById("question").value = "";
      document.getElementById("opt1").value = "";
      document.getElementById("opt2").value = "";
      document.getElementById("opt3").value = "";
      document.getElementById("opt4").value = "";
      document.getElementById("correct").value = "";
      document.getElementById("category").value = "";
      document.getElementById("difficulty").value = "";

    }

    const adminQuestions = JSON.parse(localStorage.getItem("adminQuestions")) || [];

adminQuestions.push({
  question: newQuestion,
  answers: [option1, option2, option3, option4],
  correct: parseInt(correctIndex),
  category: selectedCategory,
  difficulty: selectedDifficulty
});

localStorage.setItem("adminQuestions", JSON.stringify(adminQuestions));

  </script>

</body>
</html>
